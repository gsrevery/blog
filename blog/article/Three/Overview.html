<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>总体概览 | gp&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="学而时习之不亦说乎，有朋至远方来不亦乐乎。">
    
    <link rel="preload" href="/blog/assets/css/0.styles.e32d6808.css" as="style"><link rel="preload" href="/blog/assets/js/app.beaadab2.js" as="script"><link rel="preload" href="/blog/assets/js/2.cdb3e9a2.js" as="script"><link rel="preload" href="/blog/assets/js/1.2ff590fb.js" as="script"><link rel="preload" href="/blog/assets/js/61.e738459f.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.483ed099.js"><link rel="prefetch" href="/blog/assets/js/11.4a83636f.js"><link rel="prefetch" href="/blog/assets/js/12.1c3abd53.js"><link rel="prefetch" href="/blog/assets/js/13.42ddc870.js"><link rel="prefetch" href="/blog/assets/js/14.4ab77d03.js"><link rel="prefetch" href="/blog/assets/js/15.1ca1ecee.js"><link rel="prefetch" href="/blog/assets/js/16.089477cb.js"><link rel="prefetch" href="/blog/assets/js/17.48fb250a.js"><link rel="prefetch" href="/blog/assets/js/18.a5449b25.js"><link rel="prefetch" href="/blog/assets/js/19.f488d48b.js"><link rel="prefetch" href="/blog/assets/js/20.693a86cb.js"><link rel="prefetch" href="/blog/assets/js/21.ffab7a62.js"><link rel="prefetch" href="/blog/assets/js/22.1e2f1643.js"><link rel="prefetch" href="/blog/assets/js/23.06d01b81.js"><link rel="prefetch" href="/blog/assets/js/24.6fb74fdf.js"><link rel="prefetch" href="/blog/assets/js/25.f4f1deed.js"><link rel="prefetch" href="/blog/assets/js/26.be249a87.js"><link rel="prefetch" href="/blog/assets/js/27.516e31ca.js"><link rel="prefetch" href="/blog/assets/js/28.7c715b92.js"><link rel="prefetch" href="/blog/assets/js/29.a1a35c6e.js"><link rel="prefetch" href="/blog/assets/js/3.7baf3ae3.js"><link rel="prefetch" href="/blog/assets/js/30.d59ad473.js"><link rel="prefetch" href="/blog/assets/js/31.aa0f20f9.js"><link rel="prefetch" href="/blog/assets/js/32.18d21a8e.js"><link rel="prefetch" href="/blog/assets/js/33.855b107e.js"><link rel="prefetch" href="/blog/assets/js/34.bea82fc6.js"><link rel="prefetch" href="/blog/assets/js/35.a101de36.js"><link rel="prefetch" href="/blog/assets/js/36.3181bbf8.js"><link rel="prefetch" href="/blog/assets/js/37.a5c4a273.js"><link rel="prefetch" href="/blog/assets/js/38.7f4eac1e.js"><link rel="prefetch" href="/blog/assets/js/39.678e3035.js"><link rel="prefetch" href="/blog/assets/js/4.85886a19.js"><link rel="prefetch" href="/blog/assets/js/40.a1fcf64d.js"><link rel="prefetch" href="/blog/assets/js/41.5dde4d53.js"><link rel="prefetch" href="/blog/assets/js/42.f5234e1d.js"><link rel="prefetch" href="/blog/assets/js/43.c4e43685.js"><link rel="prefetch" href="/blog/assets/js/44.872f54a9.js"><link rel="prefetch" href="/blog/assets/js/45.29af2dc5.js"><link rel="prefetch" href="/blog/assets/js/46.d22a77c8.js"><link rel="prefetch" href="/blog/assets/js/47.9e4dbf95.js"><link rel="prefetch" href="/blog/assets/js/48.6261cc4a.js"><link rel="prefetch" href="/blog/assets/js/49.6f327d72.js"><link rel="prefetch" href="/blog/assets/js/5.af9fe709.js"><link rel="prefetch" href="/blog/assets/js/50.96b9043b.js"><link rel="prefetch" href="/blog/assets/js/51.5eab7b9a.js"><link rel="prefetch" href="/blog/assets/js/52.ae57d346.js"><link rel="prefetch" href="/blog/assets/js/53.316eac3b.js"><link rel="prefetch" href="/blog/assets/js/54.7d7fca5e.js"><link rel="prefetch" href="/blog/assets/js/55.cf1cbef6.js"><link rel="prefetch" href="/blog/assets/js/56.41bd9c2b.js"><link rel="prefetch" href="/blog/assets/js/57.bd21fd3e.js"><link rel="prefetch" href="/blog/assets/js/58.0ce65d28.js"><link rel="prefetch" href="/blog/assets/js/59.fb113ba6.js"><link rel="prefetch" href="/blog/assets/js/6.d412c1fb.js"><link rel="prefetch" href="/blog/assets/js/60.99acc0e4.js"><link rel="prefetch" href="/blog/assets/js/62.5ad34de9.js"><link rel="prefetch" href="/blog/assets/js/63.202cabe8.js"><link rel="prefetch" href="/blog/assets/js/64.da206e9a.js"><link rel="prefetch" href="/blog/assets/js/65.51e46eb2.js"><link rel="prefetch" href="/blog/assets/js/66.1bac0bf6.js"><link rel="prefetch" href="/blog/assets/js/67.ede4622d.js"><link rel="prefetch" href="/blog/assets/js/68.13599b23.js"><link rel="prefetch" href="/blog/assets/js/7.5b939fe6.js"><link rel="prefetch" href="/blog/assets/js/vendors~docsearch.be90ab07.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.e32d6808.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">gp's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/article/JavaScript/Rule.html" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="/blog/AboutMe.html" class="nav-link">
  Resume
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/article/JavaScript/Rule.html" class="nav-link">
  Blog
</a></div><div class="nav-item"><a href="/blog/AboutMe.html" class="nav-link">
  Resume
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/article/JavaScript/Optimization.html" class="sidebar-link">优化</a></li><li><a href="/blog/article/JavaScript/Rule.html" class="sidebar-link">代码规范</a></li><li><a href="/blog/article/JavaScript/QA-daily.html" class="sidebar-link">练习题目</a></li><li><a href="/blog/article/JavaScript/Object.html" class="sidebar-link">对象</a></li><li><a href="/blog/article/JavaScript/Array.html" class="sidebar-link">数组</a></li><li><a href="/blog/article/JavaScript/Function.html" class="sidebar-link">函数</a></li><li><a href="/blog/article/JavaScript/Ram.html" class="sidebar-link">内存</a></li><li><a href="/blog/article/JavaScript/Method.html" class="sidebar-link">常用方法</a></li><li><a href="/blog/article/JavaScript/PublicFunction.html" class="sidebar-link">公共方法</a></li><li><a href="/blog/article/JavaScript/Robustness.html" class="sidebar-link">代码健壮性</a></li><li><a href="/blog/article/JavaScript/Tree.html" class="sidebar-link">树</a></li><li><a href="/blog/article/JavaScript/This.html" class="sidebar-link">this指向</a></li><li><a href="/blog/article/JavaScript/Css.html" class="sidebar-link">不常见的但实用的css</a></li><li><a href="/blog/article/JavaScript/EventLoop.html" class="sidebar-link">事件循环机制</a></li><li><a href="/blog/article/JavaScript/CrossDomain.html" class="sidebar-link">跨域</a></li><li><a href="/blog/article/JavaScript/Bubble.html" class="sidebar-link">冒泡</a></li><li><a href="/blog/article/JavaScript/CommonlyMethod.html" class="sidebar-link">数据特殊处理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/article/Vue/Components.html" class="sidebar-link">组件</a></li><li><a href="/blog/article/Vue/CrossDomain.html" class="sidebar-link">跨域</a></li><li><a href="/blog/article/Vue/Reconstruction.html" class="sidebar-link">项目重构优化</a></li><li><a href="/blog/article/Vue/Question.html" class="sidebar-link">vue问题</a></li><li><a href="/blog/article/Vue/Router.html" class="sidebar-link">路由</a></li><li><a href="/blog/article/Vue/Table.html" class="sidebar-link">表格</a></li><li><a href="/blog/article/Vue/SpecialPage.html" class="sidebar-link">页面</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>App</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/article/APP/UniApp.html" class="sidebar-link">uni-app</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Other</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/article/Other/Git.html" class="sidebar-link">git操作</a></li><li><a href="/blog/article/Other/LODOP.html" class="sidebar-link">lodop插件</a></li><li><a href="/blog/article/Other/Npm.html" class="sidebar-link">npm私有库</a></li><li><a href="/blog/article/Other/Interview.html" class="sidebar-link">问题总结</a></li><li><a href="/blog/article/Other/ProjectLssues.html" class="sidebar-link">运行项目问题</a></li><li><a href="/blog/article/Other/OnlinePayment.html" class="sidebar-link">在线支付</a></li><li><a href="/blog/article/Other/PluginUnit.html" class="sidebar-link">js常用的各种插件</a></li><li><a href="/blog/article/Other/Vscode.html" class="sidebar-link">vscode常用插件</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Three</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/article/Three/Overview.html" aria-current="page" class="active sidebar-link">Three概览</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/article/Three/Overview.html#基础渲染" class="sidebar-link">基础渲染</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/article/Three/Overview.html#创建一个canvas画布" class="sidebar-link">创建一个canvas画布</a></li><li class="sidebar-sub-header"><a href="/blog/article/Three/Overview.html#创建场景-scene" class="sidebar-link">创建场景-scene</a></li><li class="sidebar-sub-header"><a href="/blog/article/Three/Overview.html#光源" class="sidebar-link">光源</a></li><li class="sidebar-sub-header"><a href="/blog/article/Three/Overview.html#相机-camera" class="sidebar-link">相机-camera</a></li><li class="sidebar-sub-header"><a href="/blog/article/Three/Overview.html#创建渲染器-renderer-webglrenderer" class="sidebar-link">创建渲染器-renderer（WebGLRenderer）</a></li><li class="sidebar-sub-header"><a href="/blog/article/Three/Overview.html#模型" class="sidebar-link">模型</a></li><li class="sidebar-sub-header"><a href="/blog/article/Three/Overview.html#边框" class="sidebar-link">边框</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/article/Three/Overview.html#功能" class="sidebar-link">功能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/article/Three/Overview.html#模型拖动" class="sidebar-link">模型拖动</a></li><li class="sidebar-sub-header"><a href="/blog/article/Three/Overview.html#碰撞检测-raycaste、box3" class="sidebar-link">碰撞检测（Raycaste、Box3）</a></li><li class="sidebar-sub-header"><a href="/blog/article/Three/Overview.html#视角切换" class="sidebar-link">视角切换</a></li><li class="sidebar-sub-header"><a href="/blog/article/Three/Overview.html#模型贴图-canvastexture" class="sidebar-link">模型贴图（CanvasTexture）</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/article/Three/Overview.html#智能装箱功能" class="sidebar-link">智能装箱功能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/article/Three/Overview.html#创建字体-textgeometry" class="sidebar-link">创建字体（TextGeometry）</a></li><li class="sidebar-sub-header"><a href="/blog/article/Three/Overview.html#创建三维坐标轴-axeshelper" class="sidebar-link">创建三维坐标轴（AxesHelper）</a></li><li class="sidebar-sub-header"><a href="/blog/article/Three/Overview.html#创建线条-line" class="sidebar-link">创建线条（Line）</a></li><li class="sidebar-sub-header"><a href="/blog/article/Three/Overview.html#创建控件对象-orbitcontrols" class="sidebar-link">创建控件对象（OrbitControls）</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/article/Three/Overview.html#优化" class="sidebar-link">优化</a></li></ul></li><li><a href="/blog/article/Three/Optimize.html" class="sidebar-link">Three性能优化</a></li><li><a href="/blog/article/Three/IntelligentPackingFunction.html" class="sidebar-link">Three常见问题及解决方案</a></li><li><a href="/blog/article/Three/Cannon.html" class="sidebar-link">Cannon物理引擎</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="总体概览"><a href="#总体概览" class="header-anchor">#</a> 总体概览</h1> <h2 id="基础渲染"><a href="#基础渲染" class="header-anchor">#</a> 基础渲染</h2> <h3 id="创建一个canvas画布"><a href="#创建一个canvas画布" class="header-anchor">#</a> 创建一个canvas画布</h3> <h3 id="创建场景-scene"><a href="#创建场景-scene" class="header-anchor">#</a> 创建场景-scene</h3> <p>定义：添加3D对象的地方，在实际开发中场景是透明的、看不见的，需要做相关的设置</p> <p>作用</p> <div class="language- extra-class"><pre><code>Scene 对象是所有不同对象的容器，也就是说该对象保存所有物体、光源、摄像机以及渲染所需的其他对象。
Scene 对象又是被称为场景图，它不仅仅是一个对象数组，还包含了整个场景图树形结构中的所有节点：
 * 每个添加到 Three.js 场景的对象，甚至包括 THREE.Scene 本身都是继承自一个名为 THREE.Object3D 的对象。
 * 每个 THREE.Object3D 对象也可以有自己的子对象，我们可以使用它的子对象来创建一个 Three.js 能解释和渲染的对象树。
</code></pre></div><p>常用方法及属性</p> <div class="language- extra-class"><pre><code>add(object)： 用于向场景中添加对象。使用该方法还可以创建对象组。
children：用于返回一个场景中所有对象的列表，包括摄像机和光源。
getObjectByName(name,recursive)：在创建对象时可以指定唯一的标识 name，使用该方法可以查找特定名字的对象。
 * 当参数 recursive 设置为 false 时，在调用者子元素上查找
 * 当参数 recursive 设置为 true 时，在调用者的所有后代对象上查找

remove(object)： object 为场景中对象的引用，使用该方法可以将对象从场景中移除。  
traverse(function)：该方法也可以遍历调用者和调用者的所有后代，function 参数是一个函数，被调用者和每一个后代对象调用 function 方法。
fog ：使用该属性可以为场景添加雾化效果，可以产生隐藏远处物体的浓雾效果。  
overrideMaterial：使用该属性可以强制场景中的所有物体使用相同的材质。
</code></pre></div><p>scene场景的结构</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>group
    group
        mesh
        line
        point

    group
        mesh
        line
        point


group
    group
        mesh
        line
        point


group
    mesh
    line
    point

light
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="光源"><a href="#光源" class="header-anchor">#</a> 光源</h3> <p>光源的类型</p> <div class="language- extra-class"><pre><code>环境光（AmbientLight）
    该光源没有特定的方向，不会产生阴影。

点光源（PointLight）
    一个向各个方向发光的光源从一个点发出。

定向光（DirectionalLight）
    发出的所有光线彼此平行，太阳就是一个很好的例子。

聚光灯（SpotLight）
    最常使用的灯之一（尤其是如果您想要使用阴影），THREE.SpotLight是一种具有锥形效果的光源，你可以将其与手电筒或灯笼进行比较，这种光有方向和角度它产生光。

半球光（HemisphereLight ）
区域光（AreaLight）
镜头光晕（LensFlare）
</code></pre></div><p>创建光源</p> <div class="language- extra-class"><pre><code>1.创建光源
2.设置光源的位置
3.打开或者关闭阴影
4.将光源添加进入场景
</code></pre></div><h3 id="相机-camera"><a href="#相机-camera" class="header-anchor">#</a> 相机-camera</h3> <p>相机的类型：</p> <div class="language- extra-class"><pre><code>1.正交相机orthographic：在这种投影模式下，渲染图像中的对象大小保持不变，无论其与相机的距离如何。这对于渲染 2D 场景和 UI 元素等非常有用。
2.透视相机perspective：这种投影模式旨在模仿人眼看到的方式。它是用于渲染 3D 场景的最常见的投影模式。
</code></pre></div><p>创建相机</p> <div class="language- extra-class"><pre><code>1.创建相机（PerspectiveCamera）
2.设置相机的位置
3.设置相机以那个方向为上方
4.设置相机看向那个坐标
5.将相机添加进入场景
</code></pre></div><h3 id="创建渲染器-renderer-webglrenderer"><a href="#创建渲染器-renderer-webglrenderer" class="header-anchor">#</a> 创建渲染器-renderer（WebGLRenderer）</h3> <h3 id="模型"><a href="#模型" class="header-anchor">#</a> 模型</h3> <p>几何体</p> <div class="language- extra-class"><pre><code>缓冲类几何体（BufferGeometry）
长方体（BoxGeometry）
圆柱体、圆锥、三面体、四面体（梯形）（CircleGeometry）
圆锥体（ConeGeometry）
球体（SphereGeometry）
立方体边框（BoxHelper）
    入参：模型和颜色
        边框不需要进行设定位置，会自动在模型边上进行吸附


圆柱体、梯形边框（EdgesGeometry）
    let cubeGeometry = new THREE.CylinderGeometry((80, 80, 50, 40, 40)   // 创建一个圆柱材质
    let cylinderEdges = new THREE.EdgesGeometry(cubeGeometry, 1);   // 创建一个圆柱边框
    let edgesMtl = new THREE.LineBasicMaterial({ color: ‘red’})  // 创建基础线条材质
    let border = new THREE.LineSegments(cylinderEdges, edgesMtl);  //  创建线框
    cube.add(border );   // 将线框加入几何体中
</code></pre></div><p>创建模型mesh</p> <div class="language- extra-class"><pre><code>1.创建几何体
2.创建材质
3.设置几何体位置
4.添加进入场景scene
</code></pre></div><h3 id="边框"><a href="#边框" class="header-anchor">#</a> 边框</h3> <p>给模型添加边框的两种方式</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 方法一：</span>
<span class="token keyword">let</span> cubeGeometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>BoxGeometry</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> cube <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>cubeGeometry<span class="token punctuation">,</span> cubeMaterial<span class="token punctuation">)</span>
<span class="token keyword">let</span> cubeMaterial <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>MeshLambertMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'red'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 将需要的参数加入group中</span>
group<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>cube<span class="token punctuation">)</span>
<span class="token keyword">let</span> border <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>BoxHelper</span><span class="token punctuation">(</span>cube<span class="token punctuation">,</span> <span class="token string">'red'</span><span class="token punctuation">)</span>
group<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>border<span class="token punctuation">)</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>注意1：用这种方法，只适合与立方体</strong></p> <p><strong>注意2：用这种方法，比如我要旋转立方体，边框不会跟着改变。</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 方法二：</span>
<span class="token keyword">let</span> cubeGeometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>CylinderGeometry</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span>   <span class="token comment">// 创建一个圆柱材质</span>
<span class="token keyword">let</span> cylinderEdges <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>EdgesGeometry</span><span class="token punctuation">(</span>cubeGeometry<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 创建一个圆柱边框</span>
<span class="token keyword">let</span> edgesMtl <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>LineBasicMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">'red'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token comment">// 创建基础线条材质</span>
<span class="token keyword">let</span> border <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>LineSegments</span><span class="token punctuation">(</span>cylinderEdges<span class="token punctuation">,</span> edgesMtl<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//  创建线框</span>
cube<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>border <span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 将线框加入几何体中</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>注意：用这种方法，比如我要旋转立方体，边框会跟着改变。</strong></p> <h2 id="功能"><a href="#功能" class="header-anchor">#</a> 功能</h2> <h3 id="模型拖动"><a href="#模型拖动" class="header-anchor">#</a> 模型拖动</h3> <p>鼠标拖动DragControls属性</p> <div class="language- extra-class"><pre><code>dragstart：开始移动
drag：移动中
dragend：结束移动
hoveron：移动鼠标在模型上
hoveroff：移动鼠标离开模型
</code></pre></div><p>键盘按键移动</p> <div class="language- extra-class"><pre><code>addEventListener()
</code></pre></div><p>创建模型拖动</p> <div class="language- extra-class"><pre><code>1.创建模型拖动对象（DragControls）
    传入mesh集合、相机对象、渲染器对象

2.创建拖动事件
    可以改变拖动颜色，获取拖动后的坐标等等
</code></pre></div><h3 id="碰撞检测-raycaste、box3"><a href="#碰撞检测-raycaste、box3" class="header-anchor">#</a> 碰撞检测（Raycaste、Box3）</h3> <p>Raycaste()：在物体的各个顶点发出射线，计算是否和其他物体相交。</p> <p>Box3()：在物体上创建包围盒，计算两个物体包围盒是否相交。</p> <div class="language- extra-class"><pre><code>1.创建当前拖动的mesh为meshA
    let meshA = new THREE.Box3(new THREE.Vector3(), new THREE.Vector3())

2.循环其他需要参与碰撞检测的mesh
3.创建循环体内将每一个mesh为meshB
    let meshB= new THREE.Box3(new THREE.Vector3(), new THREE.Vector3())

4.判断meshA是否与meshB重合（meshA.intersectsBox(meshB)）
</code></pre></div><p><strong>注意：碰撞检测，检测的是最外层mesh</strong></p> <h3 id="视角切换"><a href="#视角切换" class="header-anchor">#</a> 视角切换</h3> <p>补间动画（TWEEN.Tween）</p> <div class="language- extra-class"><pre><code>让视角切换更平滑
</code></pre></div><p>设置相机位置（position.set）</p> <h3 id="模型贴图-canvastexture"><a href="#模型贴图-canvastexture" class="header-anchor">#</a> 模型贴图（CanvasTexture）</h3> <ol><li>创建一个canvas元素</li> <li>作为一个参数传入THREE.CanvasTexture</li> <li>贴图纹理更新texture.needsUpdate = true</li></ol> <h2 id="智能装箱功能"><a href="#智能装箱功能" class="header-anchor">#</a> 智能装箱功能</h2> <h3 id="创建字体-textgeometry"><a href="#创建字体-textgeometry" class="header-anchor">#</a> 创建字体（TextGeometry）</h3> <ol><li>创建字体对象（FontLoader）</li> <li>引入字体json文件</li> <li>创建文字几何图形（TextGeometry）</li> <li>创建文字的正面和侧面集合（MeshPhongMaterial）</li> <li>创建一个mesh模型将文字几何图形和文字集合放入其中</li> <li>将mesh模型加入场景中</li></ol> <h3 id="创建三维坐标轴-axeshelper"><a href="#创建三维坐标轴-axeshelper" class="header-anchor">#</a> 创建三维坐标轴（AxesHelper）</h3> <ol><li>创建三维坐标系</li> <li>创建好坐标系将其加入场景中</li></ol> <h3 id="创建线条-line"><a href="#创建线条-line" class="header-anchor">#</a> 创建线条（Line）</h3> <ol><li>创建材质（LineBasicMaterial）</li> <li>创建空间几何体（BufferGeometry）</li> <li>创建顶点集合（Vector3）</li> <li>绑定顶点到创建好的空间几何体（setFromPoints）</li> <li>创建线条（Line）</li> <li>将线条添加进场景中</li></ol> <h3 id="创建控件对象-orbitcontrols"><a href="#创建控件对象-orbitcontrols" class="header-anchor">#</a> 创建控件对象（OrbitControls）</h3> <ol><li>创建控件对象（OrbitControls）</li> <li>修改鼠标控制事件
<ul><li>上下滚动鼠标中键：缩放三维场景</li> <li>鼠标左键：720旋转展示三维场景</li> <li>鼠标右键：可以平移三维场景（关闭）</li></ul></li></ol> <h2 id="优化"><a href="#优化" class="header-anchor">#</a> 优化</h2> <p><strong>注意：避免重复创建模型对象，可以使用clone()方法</strong></p> <ul><li>clone()返回一个新的几何体对象，返回新的几何体对象包含原来的几何体顶点数据、顶点索引数据、UV坐标数据。</li> <li>threejs中的clone方法是一个浅度的clone，clone复制了新的对象，但是原对象内部的对象（属性为对象）不会被clone，我们需要对内部对象也进行clone就可以</li></ul> <p>常见问题</p> <ul><li>在用copy()和clone()进行对象复制后，使用Raycaster射线做obj模型选择时，使用clone方式选择指定对象对其颜色进行增强，但是修改新对象的material原皮肤也变更。</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/article/Other/Vscode.html" class="prev">
        vscode常用插件
      </a></span> <span class="next"><a href="/blog/article/Three/Optimize.html">
        Three性能优化
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.beaadab2.js" defer></script><script src="/blog/assets/js/2.cdb3e9a2.js" defer></script><script src="/blog/assets/js/1.2ff590fb.js" defer></script><script src="/blog/assets/js/61.e738459f.js" defer></script>
  </body>
</html>
